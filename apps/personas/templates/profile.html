{% extends "templates/base.html" %}

{% block title %}Mi Perfil{% endblock %}

{% block content %}
<div class="content-container" style="max-width: 700px;">
    <h2 style="font-size: 1.8rem; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; margin-bottom: 2rem;">
        Perfil de {{ user.username }}
    </h2>
    
    {% if persona %}
        <div class="profile-grid">
            
            <div class="profile-label">Nombre:</div>
            <div class="profile-data">{{ persona.nombre }}</div>

            <div class="profile-label">Apellido:</div>
            <div class="profile-data">{{ persona.apellido }}</div>

            <div class="profile-label">Email:</div>
            <div class="profile-data">{{ user.email }}</div>

            <div class="profile-label">Género:</div>
            <div class="profile-data">{{ persona.get_genero_display }}</div>

            <div class="profile-label">Fecha de Nacimiento:</div>
            <div class="profile-data">{{ persona.fecha_nacimiento|date:"d \d\e F \d\e Y" }}</div>

            <div class="profile-label">Dirección:</div>
            <div class="profile-data">{{ persona.direccion|default:"No especificada" }}</div>

            <div class="profile-label">Celular:</div>
            <div class="profile-data">{{ persona.celular|default:"No especificado" }}</div>

            <div class="profile-label">Estado:</div>
            <div class="profile-data">
                {% if persona.estado %}
                    <span class="profile-status profile-status-active">
                        Activo
                    </span>
                {% else %}
                    <span class="profile-status profile-status-inactive">
                        Inactivo
                    </span>
                {% endif %}
            </div>
        </div>
        <div class="profile-actions">
            <a href="{% url 'profile_edit' %}" class="btn-edit">
                Editar Perfil
            </a>
        </div>
        
    {% else %}
        <div style="background-color: #fff3cd; border: 1px solid #ffeeba; color: #856404; padding: 1rem; border-radius: 5px;">
            <strong style="font-weight: bold;">Información:</strong>
            <span>Este usuario no tiene un perfil de "Persona" asociado.</span>
        </div>
    {% endif %}
</div>
{% endblock %}